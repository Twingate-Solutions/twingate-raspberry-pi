<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Welcome to Twingate!</title>
  <script src="/socket.io/socket.io.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"/>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

</head>
<body>

  <script>
    var socket = io(); 
    
    function Submit(){
      
      socket.emit('check_if_connector_is_installed',{})
      var AdminConsoleURL = $('#AdminConsoleURL').val();
      var APIToken = $('#APIToken').val();
      socket.emit('check_url_and_token',{url:AdminConsoleURL,token:APIToken})
    }
    
    socket.on('token_error', function(data){
      console.log("token error");
      console.log(data)
    });

    socket.on('url_error', function(data){
      console.log("url error");
      console.log(data)
    });

    socket.on('url_token_ok', function(data){
      console.log("token & url are OK!");
      console.log(data)
    });

    socket.on('connector_already_present', function(data){
      console.log("a connector is already live on the device")
    })

  </script>

  <div id="header">
  </div>

    <div class="jumbotron">
        <div class="container">
          <h1> Welcome to Twingate! </h1>
          <p> Let's get you started.</p>
        </div>
    </div>

    <div class="content" id="test">
      <div class="container">

<div class="text-center">
</div>        

<div class="text-center">

</div>    
<div class="container">
  <div class="row">
    <div class="col-md-10 col-lg-8 mx-lg-auto mx-md-auto">

      <h1 class="pt-5 pb-2">Welcome to Twingate!</h1>
      <h2 class="pt-5 pb-2">Let's get you started with Twingate</h2>
      <ol>
        <li>Sign up for a free Twingate account from our <a href="https://auth.twingate.com/signup">website</a>.</li>
        <li>Create an API Token with <b>Read, Write & Provision permissions</b> from your <b>Twingate Admin Console</b> (under Settings -> API)</li>
        <li>enter your <b>API Token</b> and your Twingate <b>Admin Console URL</b> below and click submit.. We'll take care of the rest!</li>
      </ol>

      <p class="lead"></p>
      <form>
        <div class="form-group">
          <label for="AdminConsoleURL">Admin Console URL</label>
          <input type="email" class="form-control" id="AdminConsoleURL" aria-describedby="emailHelp" placeholder="https://dfgdgddfg">
          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <div class="form-group">
          <label for="APIToken">API Token</label>
          <input type="password" class="form-control" id="APIToken" placeholder="API Token">
        </div>
        <button class="btn btn-primary btn-lg active" type="button" id="submit" onClick="Submit()" data-toggle="dropdown" aria-expanded="true">Submit</button>
      </form>
    </div>
  </div>
</div>

  <div id="footer">
  </div>
  </div> 
    
</body>
</html>